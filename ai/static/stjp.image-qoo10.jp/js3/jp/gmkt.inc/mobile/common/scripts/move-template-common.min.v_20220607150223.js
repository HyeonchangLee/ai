// (c)2021 eBay Japan

var TemplateCommon={RenderHtml:function(templateHtml,data,container,refresh_list,isAppend,callBack){if(data!=undefined&&data!=null&&data!=''){var template=Handlebars.compile(templateHtml);var result_html=$(template(data));if(typeof refresh_list!="undefined"&&refresh_list==true){$(container).html(result_html);}else{if(typeof isAppend!='undefined'&&isAppend==true){result_html=result_html.find("li").parent().html();$(container).append(result_html);}else{$(container).append(result_html);}}}
var _callBack=typeof callBack!=="undefined"?callBack:function(ret){};if(_callBack!=null)
_callBack();},Render:function(templateid,data,container,refresh_list,callBack){var templateHtml=$(templateid).html();this.RenderHtml(templateHtml,data,container,refresh_list,false,callBack);},AppendRender:function(templateid,data,container,refresh_list,callBack){var templateHtml=$(templateid).html();this.RenderHtml(templateHtml,data,container,refresh_list,true,callBack);}};Handlebars.registerHelper('ifEquals',function(arg1,arg2,options){return(arg1==arg2)?options.fn(this):options.inverse(this);});Handlebars.registerHelper('ifCond',function(v1,operator,v2,options){switch(operator){case'==':return(v1==v2)?options.fn(this):options.inverse(this);case'===':return(v1===v2)?options.fn(this):options.inverse(this);case'!=':return(v1!=v2)?options.fn(this):options.inverse(this);case'!==':return(v1!==v2)?options.fn(this):options.inverse(this);case'<':return(v1<v2)?options.fn(this):options.inverse(this);case'<=':return(v1<=v2)?options.fn(this):options.inverse(this);case'>':return(v1>v2)?options.fn(this):options.inverse(this);case'>=':return(v1>=v2)?options.fn(this):options.inverse(this);case'&&':return(v1&&v2)?options.fn(this):options.inverse(this);case'||':return(v1||v2)?options.fn(this):options.inverse(this);default:return options.inverse(this);}});Handlebars.registerHelper('ifRemainder',function(divisionNum,targetNum,operator,v2,options){var v1=divisionNum%targetNum;switch(operator){case'==':return(v1==v2)?options.fn(this):options.inverse(this);case'===':return(v1===v2)?options.fn(this):options.inverse(this);case'!=':return(v1!=v2)?options.fn(this):options.inverse(this);case'!==':return(v1!==v2)?options.fn(this):options.inverse(this);case'<':return(v1<v2)?options.fn(this):options.inverse(this);case'<=':return(v1<=v2)?options.fn(this):options.inverse(this);case'>':return(v1>v2)?options.fn(this):options.inverse(this);case'>=':return(v1>=v2)?options.fn(this):options.inverse(this);case'&&':return(v1&&v2)?options.fn(this):options.inverse(this);case'||':return(v1||v2)?options.fn(this):options.inverse(this);default:return options.inverse(this);}});Handlebars.registerHelper('getIndexOf',function(context,currentIdx,plusIdx,options){if(plusIdx==undefined||plusIdx==null)
plusIdx=0;if(context.length>currentIdx+plusIdx)
return options.fn(context[currentIdx+plusIdx]);else
return options.inverse(this);});Handlebars.registerHelper('getNumberFormat',(value)=>{var str=value+"";var len=str.length;var buf="";for(var i=0;i<len;i++){if(i!=0&&i%3==0){buf=","+buf;};buf=str.charAt(len-(i+1))+buf;};return buf;});Handlebars.registerHelper('getLoadingImageUrl',function(){if(typeof imgLoadingUrl=='undefined'){return Public.GetLoadingImage('empty');}
else{return imgLoadingUrl;}});Handlebars.registerHelper('MoveDefaultImageUrl',function(){return Public.GetLoadingImage('empty');});Handlebars.registerHelper('ifMore',function(arg1,arg2,options){return(arg1>arg2)?options.fn(this):options.inverse(this);});Handlebars.registerHelper('getCount',function(data){return data.length;});Handlebars.registerHelper('getIndexCnt',function(data){return data+1;});Handlebars.registerHelper('getTotalPage',function(total_item_count,page_size){return(total_item_count/page_size)+(total_item_count%page_size==0?0:1);});Handlebars.registerHelper('ReplaceText',function(text,arg1,arg2){return text.replace(arg1,arg2);});Handlebars.registerHelper('GetFinalPriceText',function(value){if(Number.isInteger(value)&&value>0){var str=value+"";var len=str.length;var buf="";for(var i=0;i<len;i++){if(i!=0&&i%3==0){buf=","+buf;};buf=str.charAt(len-(i+1))+buf;};buf+="<span>円</span>";return buf;}
return'';});Handlebars.registerHelper('GetFinalPriceTextString',function(value){if(Number.isInteger(value)&&value>0){var str=value+"";var len=str.length;var buf="";for(var i=0;i<len;i++){if(i!=0&&i%3==0){buf=","+buf;};buf=str.charAt(len-(i+1))+buf;};buf+="円";return buf;}
return'';});Handlebars.registerHelper("log",function(obj){console.log(obj);});Handlebars.registerHelper('setPriceColor',function(price_color){var result="";if(price_color!=null&&price_color!="")
result="style=\"color:"+price_color+"\"";return result;});Handlebars.registerHelper('getViewType',function(){if(typeof list_view_type!="undefined"){return list_view_type}
else{return'grid3';}});Handlebars.registerHelper('getNewTab',function(){if(typeof isNewTab!="undefined"&&isNewTab){return"target='_blank'";}
else{return'';}});Handlebars.registerHelper('MoveRST',function(resID){var resource='';if(typeof resID=='string'){if(typeof MultiLang!='undefined'&&MultiLang.findCommonResource){resource=MultiLang.findCommonResource('Mobile/Move/MoveCommonResource.aspx',resID);}
else{resource=resID;}}
return resource;});Handlebars.registerHelper('RST',function(langSet,resID){var resource='';if(typeof resID=='string'){if(typeof MultiLang!='undefined'&&MultiLang.findCommonResource){if(typeof langSet!='string'){langSet='Mobile/Move/MoveCommonResource.aspx';}
resource=MultiLang.findCommonResource(langSet,resID);}
else{resource=resID;}}
return resource;});Handlebars.registerHelper('CheckAdult',function(adultGoodsYn,options){var user_adult=Util.getCookie("user_adult");if(user_adult!='Y'&&adultGoodsYn=='Y'){return options.fn(this);}
else{return options.inverse(this);}});Handlebars.registerHelper('GAClick',function(items,isonclickscript,afterScript,obj){var script='';if(typeof obj=='object'&&typeof obj.data=='object'){var ga_product_id='';var data=obj.data;var root=data.root;var index=0;if(typeof obj.data.index=='number'){index=obj.data.index;}
if(typeof root['GAProductType']!='undefined'&&root['GAProductType']!=null&&root['GAProductType']!=''){ga_product_id=root['GAProductType'];}
var position=index;if(root.page_no>1){position=(root.page_no-1)*items.length+index;}
var row=items[index];var ga_data=GA_Front.MakeMoveGAClickData(ga_product_id,position,row);if(ga_data!=''){if(isonclickscript==true){script="onclick=\"";}
script+="GA_Front.Click('"+ga_data+"');"
if(typeof afterScript=="string"){script+=afterScript;}
if(isonclickscript==true){script+="\"";}}}
return script;});Handlebars.registerHelper('chkGridType',function(grid){var result="";var grid_type=Util.getCookie("move_gridtype");if(grid_type==undefined||grid_type==null||grid_type=="")
grid_type=3
if(grid==grid_type)
result="selected";return result;});Handlebars.registerHelper('getGridType',function(){var result="";var grid_type=Util.getCookie("move_gridtype");if(grid_type==undefined||grid_type==null||grid_type=="")
result="grid3";else
result="grid"+grid_type;return result;});