"use strict";var dimHTML='<div class="layer_dim"></div>';function headerCtrl(){53<$(window).scrollTop()&&$("table").hasClass("fix")&&$("table").css("top","53px"),$(".header_srch_list").on("touchmove",function(t){t.stopPropagation()}),$(".main_nav_deal li").each(function(t,e){if($(e).hasClass("active"))return $(e).parent().parent().animate({scrollLeft:$(e)[0].offsetLeft-14},150),!1}),$(".category_list_text li").each(function(t,e){if($(e).hasClass("on"))return $(e).parent().animate({scrollLeft:$(e)[0].offsetLeft-12},150),!1}),$(".accordion_group .accordion_cell .accordion_head").each(function(t,e){$(e).click(function(t){$(t.currentTarget).parent().toggleClass("on")})})}function timeSaleCtrl(){if($(document).find(".layer_timesale")[0]){for(var e=$(document).find(".layer_timesale")[0].offsetTop,t=$(".layer_upcomming").length,o=[],i=0;i<t;i++)o.push($(document).find(".layer_upcomming").eq(i)[0].offsetTop-200);$(window).scroll(function(t){$(window).scrollTop()<e?($(".layer_timesale").removeClass("active").css({top:""}),$(".layer_upcomming").removeClass("active").css({top:""})):o.forEach(function(t,e){$(window).scrollTop()>o[e]?($(".layer_timesale").removeClass("active").css({top:""}),$(".layer_upcomming").removeClass("active").css({top:""}),$(".layer_upcomming").eq(e).addClass("active").css({top:"60px"})):$(window).scrollTop()<o[0]&&($(".layer_upcomming").eq(0).removeClass("active").css({top:""}),$(".layer_timesale").addClass("active").css({top:"60px"}))})})}}function addScrollCtrl(t){$("body").addClass("fixed_overflow"),layerpopup_open()}function removeScrollCtrl(){$("body").removeClass("fixed_overflow"),layerpopup_close()}function moduler(){}function modalCtrler(t){$(document).ready(function(){(new moduler).modalCtrl(t)})}function layerpopup_open(){var t=$(window).scrollTop(),e=$(document).outerHeight(!0);$("#wrap").css({position:"fixed",width:"100%",height:$(window).height(),overflow:"hidden"}).attr("data-scrollTop",t).children(".page").css({height:e}),$("#wrap").scrollTop(t)}function layerpopup_close(){var t=parseInt($("#wrap").attr("data-scrollTop"));0<=t&&($("#wrap").scrollTop(0).css({position:"",width:"",height:"",overflow:""}).removeAttr("data-scrollTop").children(".page").css({height:""}),$(window).scrollTop(t))}$(window).load(function(){setTimeout(headerCtrl,500)}),moduler.prototype.modalCtrl=function(a){var n="";return $("#"+a.id).css("visibility","hidden"),{el:{id:$("#"+a.id),header:function(){return!a.header||"N"!=a.header},footer:function(){return!!a.footer&&"Y"==a.footer},width:function(){return"string"==typeof a.width?a.width:parseInt(a.width)+"px"},height:function(){if("string"!=typeof a.height)return parseInt(a.height)+"px";if("auto"==a.height)return"auto";var t=a.height.replace(/[0-9]+/,"");return parseInt(a.height)+t},chackHtml:""},template:function(){return['<div class="layer_popup fixed" style="width:'.concat(this.el.width(),"; height:").concat(this.el.height(),'">\n\t\t\t\t\t\t<div class="layer_popup_header">\n\t\t\t\t\t\t\t<div class="layer_popup_ctrl"><button type="button" class="btn btn_close">Close</button></div>\n\t\t\t\t\t\t\t<h1>').concat(a.title,'</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="layer_popup_body scroll_ctrl">\n\t\t\t\t\t\t\t\x3c!--<div class="scroll_ctrl_child"></div>--\x3e\n\t\t\t\t\t\t\t<div class="layer_popup_container"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\x3c!-- //.layer_popup --\x3e'),'<div class="layer_popup_wrapper">\n\t\t\t\t\t\t\t<div class="layer_popup_wrap_child">\n\t\t\t\t\t\t\t\t<div class="layer_popup" style="width:'.concat(this.el.width(),"; height:").concat(this.el.height(),'">\n\t\t\t\t\t\t\t\t\t<div class="layer_popup_header">\n\t\t\t\t\t\t\t\t\t\t<div class="layer_popup_ctrl"><button type="button" class="btn btn_close">Close</button></div>\n\t\t\t\t\t\t\t\t\t\t<h1>').concat(a.title,'</h1>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="layer_popup_body scroll_ctrl">\n\t\t\t\t\t\t\t\t\t\t\x3c!--<div class="scroll_ctrl_child"></div>--\x3e\n\t\t\t\t\t\t\t\t\t\t<div class="layer_popup_container"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\x3c!-- //.layer_popup --\x3e')]},getAfter:function(){$(".layer_popup_wrapper input, .layer_popup_wrapper select").off("blur"),$("body").removeClass("fixed_overflow"),layerpopup_close();/^[#]/.test(a.url)&&$(a.url).html(n[0].innerHTML);var t=this.el.id;if(t.find(".layer_dim, .layer_dim+div").remove(),t.find(".layer_dim, .layer_popup_wrap_child, .layer_popup_header, .layer_popup_body").unbind("touchmove"),a.eventAfter)return a.eventAfter({id:this.el.id,context:{el:this.el,eventAfter:this.getAfter}})},getBefore:function(){$(".layer_popup_wrapper input, .layer_popup_wrapper select").on("blur",function(){var t=$(window).scrollTop();$(window).scrollTop(t)});var t,e=this.el.id;if(this.el.header()||(e.find(".layer_popup_header").remove(),e.find(".layer_popup_body").addClass("layer_round_top"),e.find(".layer_popup_container").addClass("layer_round_top")),this.el.footer()?(t=e.find(".layer_popup_footer").clone(),e.find(".layer_popup").append(t).find(".layer_popup_body .layer_popup_footer").remove(),e.find(".layer_popup_footer").addClass("layer_popup_fixed")):(e.find(".layer_popup_footer").removeClass("layer_popup_fixed"),e.find(".layer_popup_body").addClass("layer_round_bottom"),e.find(".layer_popup_container").addClass("layer_round_bottom")),"auto"==a.height?e.find(".layer_popup_body").css({maxHeight:$(window).height()-e.find(".layer_popup_header").height()-e.find(".layer_popup_fixed").height()-40}):e.find(".layer_popup_body").css({height:e.find(".layer_popup").height()-e.find(".layer_popup_header").height()-e.find(".layer_popup_fixed").height()}),a.eventBefore)return a.eventBefore({id:this.el.id,context:{el:this.el,eventAfter:this.getAfter}})},init:function(){var e=this;layerpopup_open();var o=this.el.id;"auto"==a.height?(o.html(this.template()[1]),o.children(".layer_popup_wrapper").before(dimHTML)):(o.html(this.template()[0]),o.children(".layer_popup").css({marginTop:-o.children(".layer_popup").height()/2}),o.children(".layer_popup").before(dimHTML)),o.find(".layer_dim").css("z-index","102");for(var t=document.getElementById(a.id).querySelectorAll("*"),i=t.length,r=this,l=0;l<i;l++)"layer_popup_wrap_child"==t[l].className&&t[l].addEventListener("click",function(t){"layer_popup_wrap_child"==t.target.className&&r.getAfter()}),"layer_dim"==t[l].className&&t[l].addEventListener("click",function(t){r.getAfter()}),"layer_popup_header"==t[l].className&&t[l].querySelectorAll(".btn_close")[0].addEventListener("click",function(t){r.getAfter()});/^[#]/.test(a.url)?($("body").addClass("fixed_overflow"),this.el.chackHtml=$(a.url).clone(),n=$(a.url).clone(),$(a.url).html(""),o.find(".layer_popup_container").html(this.el.chackHtml),o.find(a.url).css({display:"block"}),o.find(".layer_popup_container").children().removeAttr("id"),this.getBefore(),$("#"+a.id).css("visibility","visible")):$.get(a.url,function(t){$("body").addClass("fixed_overflow"),o.find(".layer_popup_container").html(t),o.find(".layer_popup_container").children().removeAttr("id"),e.getBefore(),$("#"+a.id).css("visibility","visible")})}}.init()},$(document).on("touchend",".layer_popup_footer_child button",function(t){"キャンセル"!==$(this).text().toLowerCase()&&"cancel"!==$(this).text().toLowerCase()&&"closeModalCtrler"!==$(this).attr("id")||layerpopup_close()});var _toastColor,_toastId=0,toastBoxCtrler=function(t){var e="toastId_"+ ++_toastId,o=("string"==typeof t.option[Object.keys(t.option)[1]]?t.option[Object.keys(t.option)[1]]:parseInt(t.option[Object.keys(t.option)[1]]),'\n    <div class="layer_toastbox" id="'.concat(e,'">\n        <span>텍스트 자리...</span>\n    </div>')),i='\n    <div class="layer_wish_toastbox" id="'.concat(e,'">\n        <div class="toast_top"><i class="ico ico_largeFavorite">favorite</i></div>\n        <span>텍스트 자리...</span>\n    </div>');switch(t.option.style){case"addWish":$(".footer").append(i),$("#"+e).addClass("on");break;case"pullWish":$(".footer").append(i);break;default:$(".footer").append(o)}$("#"+e).children("span").html(t.message),setTimeout(function(){$("#"+e).remove()},t.time)};